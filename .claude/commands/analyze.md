---
description: Анализ кода в заданной функциональности с сохранением результатов в local-dev-ai/tasks. Использование /analyze <функциональность>, <имя-таски>, <описание-фокуса>
---

Выполни анализ кода функциональности: **{{arg}}**

**Имя задачи:** {{arg2}}

**Фокусные точки анализа:** {{arg3}}

## Что нужно сделать

1. **Определить номер задачи**
   - Проверь существующие папки в `local-dev-ai/tasks/`
   - Найди максимальный номер и увеличь его на 1
   - Используй формат с ведущими нулями (например: 0001, 0002, 0003)

2. **Исследовать функциональность**
   - Найди все файлы, относящиеся к указанной функциональности: **{{arg}}**
   - Изучи структуру данных и типы
   - Проанализируй взаимодействие компонентов
   - Найди используемые паттерны проектирования
   - Определи зависимости и связи между модулями
   - **ОСОБОЕ ВНИМАНИЕ:** При анализе обрати особое внимание на: {{arg3}}

3. **Создать структуру**
   - Создай папку `local-dev-ai/tasks/XXXX-{{arg2}}/` где XXXX - номер задачи
   - Создай файл `analyze.md` в этой папке

4. **Описать результаты анализа в файле analyze.md**

Файл должен содержать следующие секции:

### 1. Обзор функциональности
- Назначение и ответственность функциональности
- Границы функциональности (что входит, что не входит)
- Ключевые сущности и концепции

### 2. Структура данных
- Основные типы и интерфейсы
- Схемы данных
- Примеры кода с путями к файлам и номерами строк
- Взаимосвязи между типами

### 3. Архитектурные паттерны
- Используемые паттерны проектирования
- Слоистость архитектуры (presentation, business logic, data access)
- Принципы организации кода

### 4. Компоненты и модули
- Список основных файлов с описанием их ответственности
- Диаграмма зависимостей (текстовая или mermaid)
- Публичные API и точки входа

### 5. Состояние и управление данными
- Как хранятся данные (state management, database, localStorage)
- Как данные мутируются
- Механизмы синхронизации

### 6. Обработка ошибок и граничные случаи
- Паттерны обработки ошибок
- Валидация данных
- Граничные условия

### 7. Паттерны именования и конвенции
- Соглашения об именовании файлов
- Соглашения об именовании переменных/функций/типов
- Структура импортов

## Важные указания

- **НЕ писать код** - только анализ существующего
- **НЕ писать документацию в общем смысле** - только анализ для выполнения конкретной задачи
- Все описания **на русском языке**
- Примеры кода с **точными путями к файлам и номерами строк**
- Используй форматирование markdown для удобства чтения
- Будь конкретным, избегай общих фраз
- Включай примеры кода для иллюстрации паттернов
- Используй диаграммы mermaid где это уместно

## Пример структуры файла

```markdown
# Анализ функциональности: {{arg}}

**Задача:** {{arg2}}

**Фокус анализа:** {{arg3}}

---

## 1. Обзор функциональности
...

## 2. Структура данных
...

[и так далее для всех секций]

## 11. Анализ фокусных точек
**Специальное внимание:** {{arg3}}

[Детальный анализ указанных фокусных точек]
```

После создания файла сообщи пользователю путь к созданному файлу анализа.
